{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/GalleryItem.module.css","components/Loader/Loader.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/ApiService.js","components/ImageGallery/ImageGallery.js","services/SmoothScroll.js","App.js","index.js"],"names":["module","exports","Searchbar","handleQueryChange","e","setState","query","currentTarget","value","toLowerCase","onHandleSubmit","preventDefault","state","trim","props","submit","alert","className","styles","searchbar","searchForm","onSubmit","this","type","searchForm_button","searchForm_button_label","searchForm_input","autoComplete","autoFocus","placeholder","onChange","React","Component","ImageGalleryItem","id","alt","webformatURL","largeImageURL","click","imageGalleryItem","src","onClick","imageGalleryItem_image","Button","btnName","Loader","spinContainer","spinner","size","Modal","keydownHandler","code","close","onBackdropCloseClick","target","window","addEventListener","removeEventListener","overlay","modal","fetchImages","page","URL","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","loadMoreHandler","gallery","prevState","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","openModalHandler","closeModalHandler","status","prevProps","total","error","catch","hidden","galleryContainer","imageGallery","map","item","tags","btnContainer","button","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a00bf13f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3LNNx\",\"searchForm\":\"Searchbar_searchForm__1e16I\",\"searchForm_button\":\"Searchbar_searchForm_button__2dy57\",\"searchForm_button_label\":\"Searchbar_searchForm_button_label__qeeRj\",\"searchForm_input\":\"Searchbar_searchForm_input__mWhEj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__mDwFZ\",\"galleryContainer\":\"ImageGallery_galleryContainer__2uY9K\",\"btnContainer\":\"ImageGallery_btnContainer__1rMs2\",\"hidden\":\"ImageGallery_hidden__1n51q\",\"button\":\"ImageGallery_button__2a-P-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"GalleryItem_imageGalleryItem__bSX3s\",\"imageGalleryItem_image\":\"GalleryItem_imageGalleryItem_image__J_t6A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinContainer\":\"Loader_spinContainer__2kqmd\",\"spinner\":\"Loader_spinner__3dQA6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__B1Xay\",\"modal\":\"Modal_modal__35upx\"};","import React from \"react\";\r\n\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      query: \"\",\r\n    };\r\n  }\r\n\r\n  handleQueryChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.query.trim() === \"\") {\r\n      alert(\"No query entered\");\r\n      return;\r\n    }\r\n\r\n    this.props.submit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form className={styles.searchForm} onSubmit={this.onHandleSubmit}>\r\n          <button type=\"submit\" className={styles.searchForm_button}>\r\n            <span className={styles.searchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.searchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleQueryChange}\r\n            value={this.state.query}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Searchbar };\r\n","import styles from \"./GalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ id, alt, webformatURL, largeImageURL, click }) {\r\n  return (\r\n    <li key={id} className={styles.imageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={alt}\r\n        onClick={() => {\r\n          click(largeImageURL, alt);\r\n        }}\r\n        className={styles.imageGalleryItem_image}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport { ImageGalleryItem };\r\n","function Button({ btnName, className, onClick }) {\r\n  return (\r\n    <button type=\"submit\" className={className} onClick={onClick}>\r\n      {btnName}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport { Button };\r\n","import { ImSpinner } from \"react-icons/im\";\r\n\r\nimport styles from \"./Loader.module.css\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className={styles.spinContainer}>\r\n      <ImSpinner className={styles.spinner} size=\"80\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Loader };\r\n","import React from \"react\";\r\n\r\nimport styles from \"./Modal.module.css\";\r\n\r\nclass Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.keydownHandler);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.keydownHandler);\r\n  }\r\n\r\n  keydownHandler = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.close();\r\n    }\r\n  };\r\n\r\n  onBackdropCloseClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.close();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={styles.overlay} onClick={this.onBackdropCloseClick}>\r\n        <div className={styles.modal}>\r\n          <img src={this.props.largeImageURL} alt={this.props.alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Modal };\r\n","export default function fetchImages(query, page) {\r\n  const KEY = \"22456437-7bc40aa948e36a9aa215a1147\";\r\n  const URL = `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\n  return fetch(URL).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(\"Something gone wrong\"));\r\n  });\r\n}\r\n","import React from \"react\";\r\n\r\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport { Button } from \"../Button/Button\";\r\nimport { Loader } from \"../Loader/Loader\";\r\nimport { Modal } from \"../Modal/Modal\";\r\n\r\nimport fetchImages from \"../../services/ApiService\";\r\nimport smoothScroll from \"../../services/SmoothScroll\";\r\n\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nclass ImageGallery extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      status: \"idle\",\r\n      page: 1,\r\n      gallery: null,\r\n      // error: null,\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.query !== this.props.query) {\r\n      this.setState({ status: \"pending\" });\r\n\r\n      fetchImages(this.props.query)\r\n        .then((gallery) => {\r\n          if (gallery.total === 0) {\r\n            return this.setState({\r\n              error: \"Image(s) not found\",\r\n              status: \"rejected\",\r\n            });\r\n          }\r\n          return this.setState({\r\n            gallery: gallery.hits,\r\n            status: \"resolved\",\r\n            page: 1,\r\n          });\r\n        })\r\n        .catch((error) => this.setState({ error, status: \"rejected\" }));\r\n    }\r\n  }\r\n\r\n  loadMoreHandler = (e) => {\r\n    fetchImages(this.props.query, this.state.page + 1)\r\n      .then((gallery) =>\r\n        this.setState((prevState) => ({\r\n          gallery: [...prevState.gallery, ...gallery.hits],\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .then(() => smoothScroll());\r\n  };\r\n\r\n  openModalHandler = (largeImageURL, alt) => {\r\n    this.setState({\r\n      largeImageURL: largeImageURL,\r\n      alt: alt,\r\n    });\r\n  };\r\n\r\n  closeModalHandler = () => {\r\n    this.setState({\r\n      largeImageURL: \"\",\r\n      alt: \"\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.status === \"idle\") {\r\n      return <Button className={styles.hidden} />;\r\n    }\r\n\r\n    if (this.state.status === \"pending\") {\r\n      return <Loader />;\r\n    }\r\n\r\n    if (this.state.status === \"rejected\") {\r\n      return <p>{this.state.error}</p>;\r\n    }\r\n\r\n    if (this.state.status === \"resolved\") {\r\n      return (\r\n        <div className={styles.galleryContainer}>\r\n          <ul className={styles.imageGallery}>\r\n            {this.state.gallery.map((item) => (\r\n              <ImageGalleryItem\r\n                key={item.id}\r\n                alt={item.tags}\r\n                webformatURL={item.webformatURL}\r\n                largeImageURL={item.largeImageURL}\r\n                click={this.openModalHandler}\r\n              />\r\n            ))}\r\n          </ul>\r\n          <div className={styles.btnContainer}>\r\n            <Button\r\n              className={styles.button}\r\n              btnName=\"Load more\"\r\n              onClick={this.loadMoreHandler}\r\n            />\r\n          </div>\r\n          {this.state.largeImageURL && (\r\n            <Modal\r\n              close={this.closeModalHandler}\r\n              largeImageURL={this.state.largeImageURL}\r\n              alt={this.state.alt}\r\n            />\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport { ImageGallery };\r\n","export default function smoothScroll() {\r\n  return window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\",\r\n  });\r\n}\r\n","import React from \"react\";\n\nimport { Searchbar } from \"./components/Searchbar/Searchbar\";\nimport { ImageGallery } from \"./components/ImageGallery/ImageGallery\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      query: \"\",\n    };\n  }\n\n  handleFormSubmit = (query) => {\n    this.setState({ query });\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar submit={this.handleFormSubmit} />\n        <ImageGallery query={this.state.query} />\n      </div>\n    );\n  }\n}\n\nexport { App };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}