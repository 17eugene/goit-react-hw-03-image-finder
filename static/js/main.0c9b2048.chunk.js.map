{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","handleQueryChange","e","setState","query","currentTarget","value","toLowerCase","onHandleSubmit","preventDefault","state","trim","props","submit","alert","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","React","Component","ImageGalleryItem","id","alt","webformatURL","largeImageURL","click","src","onClick","Button","btnName","Loader","size","Modal","keydownHandler","code","close","onBackdropCloseClick","target","window","addEventListener","removeEventListener","KEY","ImageGallery","openModalHandler","dataset","source","closeModalHandler","loadMoreHandler","pageNum","page","URL","fetch","then","response","ok","json","Promise","reject","Error","gallery","prevState","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","status","prevProps","total","error","catch","map","item","tags","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0c9b2048.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass Searchbar extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      query: \"\",\r\n    };\r\n  }\r\n\r\n  handleQueryChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.query.trim() === \"\") {\r\n      alert(\"No query entered\");\r\n      return;\r\n    }\r\n\r\n    this.props.submit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.onHandleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleQueryChange}\r\n            value={this.state.query}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Searchbar };\r\n","function ImageGalleryItem({ id, alt, webformatURL, largeImageURL, click }) {\r\n  return (\r\n    <li key={id} className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        alt={alt}\r\n        data-source={largeImageURL}\r\n        onClick={click}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport { ImageGalleryItem };\r\n","function Button({ btnName, className, onClick }) {\r\n  return (\r\n    <button type=\"submit\" className={className} onClick={onClick}>\r\n      {btnName}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport { Button };\r\n","import { ImSpinner } from \"react-icons/im\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className=\"spinContainer\">\r\n      <ImSpinner className=\"Spinner\" size=\"80\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Loader };\r\n","import React from \"react\";\r\n\r\nclass Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.keydownHandler);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.keydownHandler);\r\n  }\r\n\r\n  keydownHandler = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.close();\r\n    }\r\n  };\r\n\r\n  onBackdropCloseClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.close();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.onBackdropCloseClick}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.largeImageURL} alt={this.props.alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Modal };\r\n","import React from \"react\";\r\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport { Button } from \"../Button/Button\";\r\nimport { Loader } from \"../Loader/Loader\";\r\nimport { Modal } from \"../Modal/Modal\";\r\n\r\nconst KEY = \"22456437-7bc40aa948e36a9aa215a1147\";\r\n\r\nclass ImageGallery extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      status: \"idle\",\r\n      page: null,\r\n      gallery: null,\r\n      // error: null,\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const URL = `https://pixabay.com/api/?q=${this.props.query}&page=1&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\n    if (prevProps.query !== this.props.query) {\r\n      this.setState({ status: \"pending\" });\r\n\r\n      fetch(URL)\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n          return Promise.reject(new Error(\"Something gone wrong\"));\r\n        })\r\n        .then((gallery) => {\r\n          if (gallery.total === 0) {\r\n            return this.setState({\r\n              error: \"Image(s) not found\",\r\n              status: \"rejected\",\r\n            });\r\n          }\r\n          return this.setState({\r\n            gallery: gallery.hits,\r\n            page: 1,\r\n            status: \"resolved\",\r\n          });\r\n        })\r\n        .catch((error) => this.setState({ error, status: \"rejected\" }));\r\n    }\r\n  }\r\n\r\n  openModalHandler = (e) => {\r\n    this.setState({\r\n      largeImageURL: e.target.dataset.source,\r\n      alt: e.target.alt,\r\n    });\r\n  };\r\n\r\n  closeModalHandler = () => {\r\n    this.setState({\r\n      largeImageURL: \"\",\r\n      alt: \"\",\r\n    });\r\n  };\r\n\r\n  loadMoreHandler = (e) => {\r\n    const pageNum = this.state.page + 1;\r\n    const URL = `https://pixabay.com/api/?q=${this.props.query}&page=${pageNum}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\n    fetch(URL)\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        return Promise.reject(new Error('\"Something gone wrong\"'));\r\n      })\r\n      .then((gallery) =>\r\n        this.setState((prevState) => ({\r\n          gallery: [...prevState.gallery, ...gallery.hits],\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .then(() => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.status === \"idle\") {\r\n      return <Button className={\"Hidden\"} />;\r\n    }\r\n\r\n    if (this.state.status === \"pending\") {\r\n      return <Loader />;\r\n    }\r\n\r\n    if (this.state.status === \"rejected\") {\r\n      return <p>{this.state.error}</p>;\r\n    }\r\n\r\n    if (this.state.status === \"resolved\") {\r\n      return (\r\n        <div className=\"GalleryContainer\">\r\n          <ul className=\"ImageGallery\">\r\n            {this.state.gallery.map((item) => (\r\n              <ImageGalleryItem\r\n                key={item.id}\r\n                alt={item.tags}\r\n                webformatURL={item.webformatURL}\r\n                largeImageURL={item.largeImageURL}\r\n                click={this.openModalHandler}\r\n              />\r\n            ))}\r\n          </ul>\r\n          <div className=\"BtnContainer\">\r\n            <Button\r\n              className={\"Button\"}\r\n              btnName={\"Load more\"}\r\n              onClick={this.loadMoreHandler}\r\n            />\r\n          </div>\r\n          {this.state.largeImageURL && (\r\n            <Modal\r\n              close={this.closeModalHandler}\r\n              largeImageURL={this.state.largeImageURL}\r\n              alt={this.state.alt}\r\n            />\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport { ImageGallery };\r\n","import React from \"react\";\n\nimport { Searchbar } from \"./components/Searchbar/Searchbar\";\nimport { ImageGallery } from \"./components/ImageGallery/ImageGallery\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      query: \"\",\n    };\n  }\n\n  handleFormSubmit = (query) => {\n    this.setState({ query });\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar submit={this.handleFormSubmit} />\n        <ImageGallery query={this.state.query} />\n      </div>\n    );\n  }\n}\n\nexport { App };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}